<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Firefly Garden</title>
    <style>
      :root {
        font-family: "Spectral", "Times New Roman", serif;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: radial-gradient(circle at top, #07111c, #010307 70%);
        color: #f7f5ea;
      }

      main {
        width: min(92vw, 1000px);
        background: rgba(2, 15, 20, 0.85);
        border: 1px solid rgba(255, 255, 255, 0.12);
        border-radius: 30px;
        padding: 32px;
        box-shadow: 0 25px 60px rgba(0, 0, 0, 0.65);
      }

      h1 {
        margin-top: 0;
        font-size: clamp(1.6rem, 3vw, 2.6rem);
        letter-spacing: 0.06em;
      }

      #field {
        position: relative;
        margin-top: 24px;
        width: 100%;
        height: min(60vh, 460px);
        border-radius: 22px;
        overflow: hidden;
        background: linear-gradient(180deg, #03121e 0%, #010b10 65%, #041a0d);
        border: 1px solid rgba(255, 255, 255, 0.08);
        isolation: isolate;
        box-shadow: inset 0 0 80px rgba(0, 0, 0, 0.8);
      }

      .firefly {
        position: absolute;
        width: var(--size);
        height: var(--size);
        border-radius: 50%;
        background: radial-gradient(
          circle,
          rgba(253, 255, 179, 0.95) 0%,
          rgba(253, 255, 179, 0.55) 50%,
          rgba(253, 255, 179, 0.05) 100%
        );
        filter: blur(0.5px);
        mix-blend-mode: screen;
        animation: pulse 2s ease-in-out infinite alternate;
        pointer-events: none;
      }

      #instructions {
        position: absolute;
        inset: auto 16px 12px;
        font-size: 0.9rem;
        color: rgba(255, 255, 255, 0.8);
        pointer-events: none;
        letter-spacing: 0.04em;
      }

      @keyframes pulse {
        from {
          opacity: 0.4;
          transform: scale(0.8);
        }
        to {
          opacity: 1;
          transform: scale(1.2);
        }
      }
    </style>
  </head>
  <body>
    <main>
      <h1>Firefly Garden</h1>
      <p>
        Whisper-quiet fireflies wander through this twilight garden. Move your
        pointer to drop gentle gusts of wind that guide the swarm in new
        directions.
      </p>
      <div id="field" aria-live="off">
        <span id="instructions">Move your cursor to shepherd the lights.</span>
      </div>
    </main>

    <script>
      const field = document.getElementById("field");
      const fireflies = [];

      const createFirefly = () => {
        const node = document.createElement("span");
        node.className = "firefly";
        const size = 6 + Math.random() * 6;
        node.style.setProperty("--size", `${size}px`);
        node.style.left = `${Math.random() * 100}%`;
        node.style.top = `${Math.random() * 100}%`;
        field.appendChild(node);
        fireflies.push({
          node,
          x: Math.random() * field.clientWidth,
          y: Math.random() * field.clientHeight,
          vx: (Math.random() - 0.5) * 0.8,
          vy: (Math.random() - 0.5) * 0.6,
        });
      };

      const tick = () => {
        const rect = field.getBoundingClientRect();
        fireflies.forEach((fly) => {
          fly.x += fly.vx;
          fly.y += fly.vy;
          if (fly.x < 0 || fly.x > rect.width) fly.vx *= -1;
          if (fly.y < 0 || fly.y > rect.height) fly.vy *= -1;
          fly.node.style.left = `${(fly.x / rect.width) * 100}%`;
          fly.node.style.top = `${(fly.y / rect.height) * 100}%`;
        });
        requestAnimationFrame(tick);
      };

      field.addEventListener("pointermove", (event) => {
        const rect = field.getBoundingClientRect();
        const x = event.clientX - rect.left;
        const y = event.clientY - rect.top;
        fireflies.forEach((fly) => {
          const dx = x - fly.x;
          const dy = y - fly.y;
          const dist = Math.max(Math.sqrt(dx * dx + dy * dy), 60);
          fly.vx += dx / dist / 30;
          fly.vy += dy / dist / 30;
          fly.vx *= 0.98;
          fly.vy *= 0.98;
        });
      });

      Array.from({ length: 40 }).forEach(createFirefly);
      tick();
    </script>
  </body>
</html>

